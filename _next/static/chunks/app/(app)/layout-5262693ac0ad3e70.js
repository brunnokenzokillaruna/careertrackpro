(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{6400:function(e,t,a){Promise.resolve().then(a.bind(a,8498))},8498:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var r=a(3827),s=a(4090),i=a(7907),n=a(1097),l=a(8009),c=a(7241),o=a(2388),d=a(4121),m=a(2685),h=a(1640),x=a(1040);function g(){let e=(0,i.useRouter)();(0,i.usePathname)();let[t,a]=(0,s.useState)(""),[g,u]=(0,s.useState)([]),[p,f]=(0,s.useState)([]),[y,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{j()},[]);let j=async()=>{try{let{data:{user:e}}=await n.O.auth.getUser();if(!e)return;let t=new Date,a=new Date;a.setDate(t.getDate()+7);let{data:r}=await n.O.from("interviews").select("\n          *,\n          job_applications (\n            company,\n            position\n          )\n        ").eq("user_id",e.id).gte("interview_date",t.toISOString()).lte("interview_date",a.toISOString()).order("interview_date",{ascending:!0});if(r){let e=r.map(e=>{let a=new Date(e.interview_date),r=Math.ceil((a.getTime()-t.getTime())/864e5),s="";return s=0===r?"Today":1===r?"Tomorrow":"In ".concat(r," days"),{id:e.id,title:"Interview ".concat(s),message:"Interview at ".concat(e.job_applications.company," for ").concat(e.job_applications.position," position"),date:a.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}});f(e)}}catch(e){console.error("Error loading notifications:",e)}},N=async e=>{if(a(e),0===e.trim().length){u([]),v(!1);return}try{let{data:{user:t}}=await n.O.auth.getUser();if(!t)return;let{data:a,error:r}=await n.O.from("job_applications").select("*").eq("user_id",t.id).or("company.ilike.%".concat(e,"%,position.ilike.%").concat(e,"%")).order("applied_date",{ascending:!1});if(r)throw r;u(a||[]),v(!0)}catch(e){console.error("Error searching applications:",e),l.default.error("Failed to search applications")}},w=async()=>{try{let{error:t}=await n.O.auth.signOut();if(t)throw t;localStorage.removeItem("rememberedEmail"),localStorage.removeItem("rememberedPassword"),l.default.success("Signed out successfully"),e.refresh(),e.push("/")}catch(e){l.default.error(e.message||"Error signing out"),console.error("Error:",e)}};return(0,r.jsx)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,r.jsx)("div",{className:"flex flex-1 items-center gap-x-4 lg:gap-x-6",children:(0,r.jsxs)("div",{className:"relative flex flex-1",children:[(0,r.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})}),(0,r.jsx)("input",{type:"search",placeholder:"Search applications...",value:t,onChange:e=>N(e.target.value),onFocus:()=>v(!0),className:"block h-10 w-full rounded-md border-0 py-1.5 pl-10 pr-3 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-teal-500 sm:text-sm sm:leading-6"}),y&&g.length>0&&(0,r.jsx)("div",{className:"absolute mt-12 w-full rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5",children:g.map(e=>(0,r.jsxs)("a",{href:"/applications?id=".concat(e.id),className:"block px-4 py-2 hover:bg-gray-100",onClick:()=>v(!1),children:[(0,r.jsx)("div",{className:"font-medium",children:e.company}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.position})]},e.id))})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[(0,r.jsxs)(c.J,{className:"relative",children:[(0,r.jsxs)(c.J.Button,{className:"-m-2.5 p-2.5 text-gray-400 hover:text-gray-500",children:[(0,r.jsx)("span",{className:"sr-only",children:"View notifications"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.Z,{className:"h-6 w-6","aria-hidden":"true"}),p.length>0&&(0,r.jsx)("div",{className:"absolute -right-1 -top-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:p.length})]})]}),(0,r.jsx)(o.u,{as:s.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,r.jsx)(c.J.Panel,{className:"absolute right-0 z-10 mt-2.5 w-80",children:(0,r.jsx)("div",{className:"rounded-lg bg-white py-2 shadow-lg ring-1 ring-gray-900/5",children:0===p.length?(0,r.jsx)("div",{className:"px-4 py-2 text-sm text-gray-500",children:"No new notifications"}):p.map(e=>(0,r.jsxs)("div",{className:"px-4 py-2 hover:bg-gray-50",children:[(0,r.jsx)("div",{className:"font-medium text-sm",children:e.title}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.message}),(0,r.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.date})]},e.id))})})})]}),(0,r.jsx)("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200","aria-hidden":"true"}),(0,r.jsxs)(d.v,{as:"div",className:"relative",children:[(0,r.jsxs)(d.v.Button,{className:"-m-1.5 flex items-center p-1.5",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open user menu"}),(0,r.jsx)(x.Z,{className:"h-8 w-8 text-gray-400","aria-hidden":"true"}),(0,r.jsx)("span",{className:"hidden lg:flex lg:items-center",children:(0,r.jsx)("span",{className:"ml-4 text-sm font-semibold leading-6 text-gray-900","aria-hidden":"true",children:"My Account"})})]}),(0,r.jsx)(o.u,{as:s.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,r.jsx)(d.v.Items,{className:"absolute right-0 z-10 mt-2.5 w-32 origin-top-right rounded-md bg-white py-2 shadow-lg ring-1 ring-gray-900/5 focus:outline-none",children:(0,r.jsx)(d.v.Item,{children:e=>{let{active:t}=e;return(0,r.jsx)("button",{onClick:w,className:"".concat(t?"bg-gray-50":""," block w-full px-3 py-1 text-left text-sm leading-6 text-gray-900"),children:"Sign out"})}})})})]})]})]})})}var u=a(7236),p=a(3536),f=a(7393),y=a(3478),v=a(4102),j=a(9097);let N=[{name:"Dashboard",href:"/dashboard",icon:p.Z},{name:"Applications",href:"/applications",icon:f.Z},{name:"Monthly Summary",href:"/monthly-summary",icon:y.Z}],w=[{name:"Settings",href:"/settings",icon:v.Z},{name:"Help",href:"/help",icon:j.Z}];function b(e){let{children:t}=e,a=(0,i.usePathname)(),l=(0,i.useRouter)();(0,s.useEffect)(()=>{(async()=>{let{data:{session:e}}=await n.O.auth.getSession();e||l.push("/")})()},[l]);let c=e=>((null==a?void 0:a.replace("/careertrackpro",""))||"")===e,o=e=>"/careertrackpro".concat(e);return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"flex min-h-screen",children:[(0,r.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64",children:(0,r.jsxs)("div",{className:"flex flex-grow flex-col overflow-y-auto border-r border-gray-200 bg-white",children:[(0,r.jsx)("div",{className:"flex h-16 flex-shrink-0 items-center px-4 border-b border-gray-200",children:(0,r.jsx)("h1",{className:"text-xl font-bold text-teal-600",children:"CareerTrack Pro"})}),(0,r.jsx)("div",{className:"flex flex-grow flex-col",children:(0,r.jsxs)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:[(0,r.jsx)("div",{className:"space-y-1",children:N.map(e=>{let t=c(e.href);return(0,r.jsxs)(u.default,{href:o(e.href),className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(t?"bg-teal-50 text-teal-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-6 w-6 flex-shrink-0 ".concat(t?"text-teal-600":"text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),e.name]},e.name)})}),(0,r.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:w.map(e=>{let t=c(e.href);return(0,r.jsxs)(u.default,{href:o(e.href),className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(t?"bg-teal-50 text-teal-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-6 w-6 flex-shrink-0 ".concat(t?"text-teal-600":"text-gray-400 group-hover:text-gray-500"),"aria-hidden":"true"}),e.name]},e.name)})})]})})]})}),(0,r.jsxs)("div",{className:"lg:pl-64 flex flex-col flex-1",children:[(0,r.jsx)(g,{}),(0,r.jsx)("main",{className:"flex-1 py-8",children:(0,r.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:t})})]})]})})}},1097:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});let r=(0,a(3975).eI)("https://iiugtjtdfavdojniaguw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlpdWd0anRkZmF2ZG9qbmlhZ3V3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4NjgwNjUsImV4cCI6MjA1NDQ0NDA2NX0.NEOVJZQ7ahibUkzauftL3Dt2UrP1dszTQToyB87fnwo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"careertrack-auth",storage:window.localStorage}})}},function(e){e.O(0,[9,975,448,971,69,744],function(){return e(e.s=6400)}),_N_E=e.O()}]);