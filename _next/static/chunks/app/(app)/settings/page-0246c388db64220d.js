(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{161:function(e,t,s){Promise.resolve().then(s.bind(s,8561))},8561:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(3827),r=s(4090),n=s(1097),i=s(8009);function l(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)({name:"",email:""});(0,r.useEffect)(()=>{o()},[]);let o=async()=>{try{let{data:{user:e}}=await n.O.auth.getUser();if(!e)return;let{data:t,error:s}=await n.O.from("users").select("*").eq("id",e.id).single();if(s)throw s;t&&l({name:t.name||"",email:t.email||""})}catch(e){console.error("Error loading profile:",e),i.default.error("Failed to load profile")}},d=async e=>{e.preventDefault(),t(!0);try{let{data:{user:e}}=await n.O.auth.getUser();if(!e)throw Error("Not authenticated");let{error:t}=await n.O.from("users").update({name:s.name}).eq("id",e.id);if(t)throw t;i.default.success("Profile updated successfully")}catch(e){console.error("Error updating profile:",e),i.default.error("Failed to update profile")}finally{t(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Settings"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Manage your account settings and preferences"})]}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,a.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",id:"name",value:s.name,onChange:e=>l({...s,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"email",value:s.email,disabled:!0,className:"mt-1 block w-full rounded-md border-gray-300 bg-gray-50 shadow-sm focus:border-teal-500 focus:ring-teal-500 sm:text-sm"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Email cannot be changed. Contact support if you need to update your email."})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{type:"submit",disabled:e,className:"inline-flex justify-center rounded-md border border-transparent bg-teal-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2",children:e?"Saving...":"Save Changes"})})]})})}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Delete Account"}),(0,a.jsx)("div",{className:"mt-2 max-w-xl text-sm text-gray-500",children:(0,a.jsx)("p",{children:"Once you delete your account, you will lose all data associated with it."})}),(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 font-medium text-red-700 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 sm:text-sm",onClick:()=>i.default.error("Contact support to delete your account"),children:"Delete account"})})]})})]})}},1097:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(3975).eI)("https://iiugtjtdfavdojniaguw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlpdWd0anRkZmF2ZG9qbmlhZ3V3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg4NjgwNjUsImV4cCI6MjA1NDQ0NDA2NX0.NEOVJZQ7ahibUkzauftL3Dt2UrP1dszTQToyB87fnwo",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}})}},function(e){e.O(0,[9,975,971,69,744],function(){return e(e.s=161)}),_N_E=e.O()}]);